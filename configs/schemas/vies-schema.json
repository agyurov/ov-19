{
    "config_type": "vies",
    "config_version": 1,
    "schema_name": "vies_schema",
    "file_encoding": "cp1251",
    "line_length": 373,
    "newline": "CRLF",
    "description": "Schema definition for the Bulgarian VIES.TXT file used when submitting VIES declarations.  Each section of the file has fixed‑width fields.  This schema describes the field order, lengths and data types for the standard sections: main record (VHR), declarer (VDR), registered person (VTR), total turnover (TTR) and intra‑community deliveries (VIR).  Optional call‑off stock sections (CHR/COS) are not included.",
    "fields": [
        {
            "id": 1,
            "code": "VHR-01",
            "internal_name": "vhr_section_code",
            "name_bg": "Код на секцията \"Основен запис\"",
            "start_pos": 1,
            "width_guess": 3,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 3,
            "align": "left",
            "notes": "Constant value 'VHR'"
        },
        {
            "id": 2,
            "code": "VHR-02",
            "internal_name": "reporting_period",
            "name_bg": "Отчетен период",
            "start_pos": 4,
            "width_guess": 7,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 7,
            "align": "left",
            "pattern": "MM/YYYY"
        },
        {
            "id": 3,
            "code": "VHR-03",
            "internal_name": "total_record_count",
            "name_bg": "Общ брой редове в декларацията",
            "start_pos": 11,
            "width_guess": 5,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 5,
            "align": "right",
            "decimals": 0
        },
        {
            "id": 4,
            "code": "VDR-01",
            "internal_name": "vdr_section_code",
            "name_bg": "Код на секцията \"Декларатор\"",
            "start_pos": 1,
            "width_guess": 3,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 3,
            "align": "left",
            "notes": "Constant value 'VDR'"
        },
        {
            "id": 5,
            "code": "VDR-02",
            "internal_name": "declarer_id",
            "name_bg": "ЕГН/ЛНЧ на лицето, подаващо декларацията",
            "start_pos": 4,
            "width_guess": 15,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 15,
            "align": "left"
        },
        {
            "id": 6,
            "code": "VDR-03",
            "internal_name": "declarer_name",
            "name_bg": "Трите имена по лична карта на лицето, подаващо декларацията",
            "start_pos": 19,
            "width_guess": 150,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 150,
            "align": "left"
        },
        {
            "id": 7,
            "code": "VDR-04",
            "internal_name": "declarer_city",
            "name_bg": "Град от адреса за кореспонденция на лицето, подаващо декларацията",
            "start_pos": 169,
            "width_guess": 50,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 50,
            "align": "left"
        },
        {
            "id": 8,
            "code": "VDR-05",
            "internal_name": "declarer_postal_code",
            "name_bg": "Пощенски код от адреса за кореспонденция на лицето, подаващо декларацията",
            "start_pos": 219,
            "width_guess": 4,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 4,
            "align": "right",
            "decimals": 0
        },
        {
            "id": 9,
            "code": "VDR-06",
            "internal_name": "declarer_address",
            "name_bg": "Адрес за кореспонденция (кв., ж.к., ул., №) на лицето, подаващо декларацията",
            "start_pos": 223,
            "width_guess": 150,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 150,
            "align": "left"
        },
        {
            "id": 10,
            "code": "VDR-07",
            "internal_name": "declarer_person_type",
            "name_bg": "Качество на лицето, подаващо декларацията (A – пълномощник, R – представляващ)",
            "start_pos": 373,
            "width_guess": 1,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 1,
            "align": "left"
        },
        {
            "id": 11,
            "code": "VTR-01",
            "internal_name": "vtr_section_code",
            "name_bg": "Код на секцията \"Регистрирано лице\"",
            "start_pos": 1,
            "width_guess": 3,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 3,
            "align": "left",
            "notes": "Constant value 'VTR'"
        },
        {
            "id": 12,
            "code": "VTR-02",
            "internal_name": "registered_vat_number",
            "name_bg": "Идентификационен номер по ДДС на регистрираното лице",
            "start_pos": 4,
            "width_guess": 15,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 15,
            "align": "left"
        },
        {
            "id": 13,
            "code": "VTR-03",
            "internal_name": "registered_name",
            "name_bg": "Име на регистрираното лице",
            "start_pos": 19,
            "width_guess": 150,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 150,
            "align": "left"
        },
        {
            "id": 14,
            "code": "VTR-04",
            "internal_name": "registered_address",
            "name_bg": "Адрес за кореспонденция на регистрираното лице",
            "start_pos": 169,
            "width_guess": 200,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 200,
            "align": "left"
        },
        {
            "id": 15,
            "code": "TTR-01",
            "internal_name": "ttr_section_code",
            "name_bg": "Код на секцията \"Общ оборот\"",
            "start_pos": 1,
            "width_guess": 3,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 3,
            "align": "left",
            "notes": "Constant value 'TTR'"
        },
        {
            "id": 16,
            "code": "TTR-02",
            "internal_name": "total_tax_base",
            "name_bg": "Данъчна основа общо (сума по к3 + к4 + к5)",
            "start_pos": 4,
            "width_guess": 12,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 12,
            "align": "right",
            "is_amount": true,
            "decimals": 2
        },
        {
            "id": 17,
            "code": "TTR-03",
            "internal_name": "vod_tax_base",
            "name_bg": "Данъчна основа на ВОД (сума по к3)",
            "start_pos": 16,
            "width_guess": 12,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 12,
            "align": "right",
            "is_amount": true,
            "decimals": 2
        },
        {
            "id": 18,
            "code": "VIR-01",
            "internal_name": "vir_section_code",
            "name_bg": "Код на секцията \"ВОД\"",
            "start_pos": 1,
            "width_guess": 3,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 3,
            "align": "left",
            "notes": "Constant value 'VIR'"
        },
        {
            "id": 19,
            "code": "VIR-02",
            "internal_name": "line_number",
            "name_bg": "Номер на ред",
            "start_pos": 4,
            "width_guess": 5,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 5,
            "align": "right",
            "decimals": 0
        },
        {
            "id": 20,
            "code": "VIR-03",
            "internal_name": "counterparty_vat",
            "name_bg": "VIN номер на чуждестранния контрагент (идентификационен номер по ДДС, включително префикса на държавата)",
            "start_pos": 9,
            "width_guess": 15,
            "type": "object",
            "required": true,
            "alignment": "left",
            "length": 15,
            "align": "left"
        },
        {
            "id": 21,
            "code": "VIR-04",
            "internal_name": "goods_tax_base",
            "name_bg": "Обща стойност на данъчната основа за доставки на стоки",
            "start_pos": 24,
            "width_guess": 12,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 12,
            "align": "right",
            "is_amount": true,
            "decimals": 2
        },
        {
            "id": 22,
            "code": "VIR-05",
            "internal_name": "triangular_tax_base",
            "name_bg": "Обща стойност на данъчната основа за тристранни сделки",
            "start_pos": 36,
            "width_guess": 12,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 12,
            "align": "right",
            "is_amount": true,
            "decimals": 2
        },
        {
            "id": 23,
            "code": "VIR-06",
            "internal_name": "services_tax_base",
            "name_bg": "Обща стойност на данъчната основа за доставени услуги по чл. 21, ал. 2 от ЗДДС",
            "start_pos": 48,
            "width_guess": 12,
            "type": "float64",
            "required": true,
            "alignment": "right",
            "length": 12,
            "align": "right",
            "is_amount": true,
            "decimals": 2
        },
        {
            "id": 24,
            "code": "VIR-07",
            "internal_name": "vir_reporting_period",
            "name_bg": "Отчетен период за реда (попълва се само ако се различава от отчетния период на основния запис)",
            "start_pos": 60,
            "width_guess": 7,
            "type": "object",
            "required": false,
            "alignment": "left",
            "length": 7,
            "align": "left",
            "pattern": "MM/YYYY"
        }
    ]
}
