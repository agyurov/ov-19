{
  "config_type": "tax_grid_mapping",
  "config_version": 1,
  "meta": {
    "title": "VATTool tax grid mapping (Odoo v19 → НАП)",
    "notes": [
      "This file maps Odoo tax tags (tax_tag_ids) to target output amount columns.",
      "Logic is strictly tag-based in v1 (no conditional rules).",
      "Each tag may map to multiple targets (multiple columns and/or multiple tables).",
      "Targets may only be 'pokupki' or 'prodagbi' (Deklar is derived separately).",
      "amount_column must match schema internal_name exactly; unknown columns are fatal.",
      "Within one ledger row, two tags must not write to the same (table, amount_column) — fatal collision."
    ],
    "last_updated": "YYYY-MM-DD",
    "maintainer": "PUT_NAME_OR_TEAM",
    "source": "Accountant-provided mapping"
  },
  "defaults": {
    "unknown_tag_behavior": "warn_and_skip_row_if_all_unknown",
    "trim_whitespace": true,
    "sort_tags_canonically": true
  },
  "tags": {
    "30": {
      "label": "Example sales 20% base",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_20",
          "sign": 1
        }
      ]
    },
    "22": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "pokupki",
          "amount_column": "vat_full_credit",
          "sign": 1
        }
      ]
    },
    "11": {
      "label": "UNMAPPED",
      "targets": []
    },
    "12_1": {
      "label": "UNMAPPED",
      "targets": []
    },
    "12_2": {
      "label": "UNMAPPED",
      "targets": []
    },
    "17": {
      "label": "UNMAPPED",
      "targets": []
    },
    "18": {
      "label": "UNMAPPED",
      "targets": []
    },
    "19": {
      "label": "UNMAPPED",
      "targets": []
    },
    "19rc": {
      "label": "UNMAPPED",
      "targets": []
    },
    "21": {
      "label": "UNMAPPED",
      "targets": []
    },
    "31": {
      "label": "UNMAPPED",
      "targets": []
    },
    "41": {
      "label": "UNMAPPED",
      "targets": []
    }
  }
}