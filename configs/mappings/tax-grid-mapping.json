{
  "config_type": "tax_grid_mapping",
  "config_version": 1,
  "meta": {
    "title": "VATTool tax grid mapping (Odoo v19 → НАП)",
    "notes": [
      "This file maps Odoo tax tags (tax_tag_ids) to target output amount columns.",
      "Logic is strictly tag-based in v1 (no conditional rules).",
      "Each tag may map to multiple targets (multiple columns and/or multiple tables).",
      "Targets may only be 'pokupki' or 'prodagbi' (Deklar is derived separately).",
      "amount_column must match schema internal_name exactly; unknown columns are fatal.",
      "Within one ledger row, two tags must not write to the same (table, amount_column) — fatal collision."
    ],
    "last_updated": "YYYY-MM-DD",
    "maintainer": "PUT_NAME_OR_TEAM",
    "source": "Accountant-provided mapping"
  },
  "defaults": {
    "unknown_tag_behavior": "warn_and_skip_row_if_all_unknown",
    "trim_whitespace": true,
    "sort_tags_canonically": true
  },
  "tags": {
    "11": {
      "label": "",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_20",
          "sign": -1
        }
      ]
    },
    "12_1": {
      "label": "",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_intra_community_acq",
          "sign": 1
        }
      ]
    },
    "12_2": {
      "label": "",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_reverse_charge_82",
          "sign": 1
        }
      ]
    },
    "13": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_9",
          "sign": -1
        }
      ]
    },
    "14": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_0_chapter3",
          "sign": -1
        }
      ]
    },
    "15": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_0_intra_community_supply",
          "sign": -1
        }
      ]
    },
    "16": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_0_other",
          "sign": -1
        }
      ]
    },
    "17": {
      "label": "",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_service_21_2",
          "sign": -1
        }
      ]
    },
    "18": {
      "label": "",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_69_2_eu",
          "sign": -1
        }
      ]
    },
    "19": {
      "label": "",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "base_exempt",
          "sign": -1
        }
      ]
    },
    "19rc": {
      "label": "UNMAPPED",
      "targets": []
    },
    "21": {
      "label": "",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "vat_20",
          "sign": -1
        }
      ]
    },
    "22": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "vat_intra_community_and_82",
          "sign": -1
        }
      ]
    },
    "23": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "vat_for_private_use",
          "sign": -1
        }
      ]
    },
    "24": {
      "label": "Example purchase full credit VAT",
      "targets": [
        {
          "table": "prodagbi",
          "amount_column": "vat_9",
          "sign": -1
        }
      ]
    },
    "30": {
      "label": "Example sales 20% base",
      "targets": [
        {
          "table": "pokupki",
          "amount_column": "base_and_vat_no_credit",
          "sign": 1
        }
      ]
    },
    "31": {
      "label": "",
      "targets": [
        {
          "table": "pokupki",
          "amount_column": "base_full_credit",
          "sign": 1
        }
      ]
    },
    "32": {
      "label": "",
      "targets": [
        {
          "table": "pokupki",
          "amount_column": "base_partial_credit",
          "sign": 1
        }
      ]
    },
    "41": {
      "label": "",
      "targets": [
        {
          "table": "pokupki",
          "amount_column": "vat_full_credit",
          "sign": 1
        }
      ]
    },
    "42": {
      "label": "",
      "targets": [
        {
          "table": "pokupki",
          "amount_column": "vat_partial_credit",
          "sign": 1
        }
      ]
    }
  }
}